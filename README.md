# Домашнє завдання 2

## Написання REST API для роботи з колекцією контактів

### Крок 1

1. Створити репозиторій з назвою `goit-node-rest-api` і завантажити файли з папки `src` на гілку `main`. Зверніть увагу, що у репозиторії не повинно бути папки `src`, потрібні лише файли з неї.
   
2. Створити гілку `hw02-express` з гілки `main`.
   
3. Встановити необхідні модулі за допомогою команди:

### Крок 2

В файл `contactsServices.js` (розташований в папці `services`) скопіювати функції з файлу `contacts.js` з домашнього завдання з модуля 1.

### Крок 3

Написати контролери в файлі `contactsControllers.js` (розташований в папці `controllers`) з урахуванням наступних вимог:

- **GET /api/contacts**
- Викликає функцію-сервіс `listContacts` для роботи з json-файлом `contacts.json`.
- Повертає масив всіх контактів у форматі JSON зі статусом 200.

- **GET /api/contacts/:id**
- Викликає функцію-сервіс `getContactById` для роботи з json-файлом `contacts.json`.
- Якщо контакт знайдено за id, повертає об'єкт контакту у форматі JSON зі статусом 200.
- Якщо контакт за id не знайдено, повертає JSON формату `{"message": "Not found"}` зі статусом 404.

- **DELETE /api/contacts/:id**
- Викликає функцію-сервіс `removeContact` для роботи з json-файлом `contacts.json`.
- Якщо контакт знайдено за id і видалено, повертає об'єкт видаленого контакту у форматі JSON зі статусом 200.
- Якщо контакт за id не знайдено, повертає JSON формату `{"message": "Not found"}` зі статусом 404.

- **POST /api/contacts**
- Отримує body у форматі JSON з полями `{name, email, phone}`. Усі поля є обов'язковими. Для валідації створити схему в файлі `contactsSchemas.js` з використанням пакета `joi`.
- Якщо в body відсутні обов'язкові поля або поля мають неправильне значення, повертає JSON формату `{"message": error.message}` зі статусом 400.
- Якщо body валідне, викликає функцію-сервіс `addContact` для роботи з json-файлом `contacts.json` і повертає новостворений об'єкт з полями `{id, name, email, phone}` та статусом 201.

- **PUT /api/contacts/:id**
- Отримує body у форматі JSON з оновленими полями `{name, email, phone}`. Усі поля не є обов'язковими.
- Якщо оновлення виконано без передачі хоча б одного поля в body, повертає JSON формату `{"message": "Body must have at least one field"}` зі статусом 400.
- Передані в body поля мають бути провалідовані за допомогою схеми в файлі `contactsSchemas.js` з використанням пакета `joi`. Якщо поля мають неправильне значення, повертає JSON формату `{"message": error.message}` зі статусом 400.
- Якщо body валідне, викликає функцію-сервіс `updateContact` для оновлення контакту в json-файлі `contacts.json` і повертає оновлений об'єкт контакту зі статусом 200.
- Якщо контакт за id не знайдено, повертає JSON формату `{"message": "Not found"}` зі статусом 404.

### Зверніть увагу

- Ви можете виконувати валідацію body у контролері або створити для цього окрему middleware.
- Для обробки помилок можна використовувати функцію `HttpError`, яка розташована в папці `helpers`.
- Якщо ви не використовуєте вказані функції, видаліть їх з проєкту перед надсиланням на перевірку ментору.

### Критерії прийому

- Створено репозиторій з домашнім завданням.
- Посилання на репозиторій (гілку з домашнім завданням) надіслане ментору на перевірку.
- Код відповідає технічному завданню, зокрема, вимогам щодо структури body, контенту та статусу відповідей на запити тощо.
- У коді відсутні закоментовані ділянки коду.
- Проєкт коректно працює з актуальною LTS-версією Node.
